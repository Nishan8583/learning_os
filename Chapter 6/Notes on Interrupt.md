An **interrupt** is a signal sent to the CPU by hardware or software to indicate that an event needs immediate attention. It temporarily halts the current execution of a program, saves the program's state, and transfers control to a predefined location in the operating system (OS) to handle the event. Once the interrupt is handled, the CPU resumes the previously interrupted program.

---

### Types of Interrupts

Interrupts can be broadly categorized into two types:

1. **Hardware Interrupts**:
    
    - Generated by hardware devices (e.g., keyboard, mouse, timer, disk).
    - Examples:
        - A **keyboard interrupt** occurs when a key is pressed.
        - A **timer interrupt** occurs at regular intervals to allow the OS to regain control of the CPU.
        - A **disk interrupt** occurs when data is ready to be read from or written to the disk.
2. **Software Interrupts**:
    
    - Generated by software, often intentionally, to request a service from the OS.
    - Examples:
        - **System calls**: A program requests the OS to perform an operation (e.g., reading a file).
        - **Traps**: Triggered by illegal operations (e.g., dividing by zero, accessing restricted memory).

---

### How Interrupts Work

1. **Interrupt Signal**:
    
    - An interrupt signal is sent to the CPU by hardware or software.
2. **Interrupt Handling**:
    
    - The CPU stops executing the current program and saves its state (e.g., program counter, registers) so it can resume later.
    - The CPU transfers control to a specific piece of code in the OS called the **interrupt handler** or **interrupt service routine (ISR)**.
3. **Interrupt Service Routine (ISR)**:
    
    - The ISR determines the cause of the interrupt and takes appropriate action.
    - For example:
        - If a timer interrupt occurs, the ISR may perform process scheduling.
        - If a keyboard interrupt occurs, the ISR may read the key pressed.
4. **Resuming Execution**:
    
    - After handling the interrupt, the CPU restores the saved state of the interrupted program and resumes its execution.

---

### Key Differences Between Interrupts and Traps

|**Aspect**|**Interrupt**|**Trap**|
|---|---|---|
|**Source**|Generated by hardware (e.g., timer, keyboard) or software.|Generated by software (e.g., system calls, illegal operations).|
|**Purpose**|Indicates an external event that needs immediate attention.|Requests a service from the OS or signals an error.|
|**Timing**|Asynchronous (can occur at any time, unrelated to the current program).|Synchronous (occurs as part of the program’s execution, e.g., a system call or error).|
|**Examples**|Timer interrupt, disk interrupt, keyboard interrupt.|System call, divide-by-zero error, illegal memory access.|

---

### Importance of Interrupts

- **Efficient CPU Utilization**:
    - Interrupts allow the CPU to perform other tasks while waiting for external events (e.g., disk I/O completion).
- **Real-Time Response**:
    - Interrupts enable the system to respond quickly to critical events (e.g., user input, hardware failures).
- **Preemptive Multitasking**:
    - Timer interrupts allow the OS to regain control of the CPU and implement process scheduling.

---

### Example: Timer Interrupt in Action

1. A timer device is programmed to send an interrupt signal every 10 milliseconds.
2. When the timer interrupt occurs:
    - The CPU halts the currently running process.
    - The OS regains control and executes the timer interrupt handler.
    - The OS may decide to switch to another process (context switching) or resume the current one.
3. After handling the interrupt, the CPU resumes the interrupted process.